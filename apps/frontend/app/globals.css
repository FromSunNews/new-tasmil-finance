@import "tailwindcss";

/* include utility classes in streamdown */
@source '../node_modules/streamdown/dist/index.js';

/* custom variant for setting dark mode programmatically */
@custom-variant dark (&:is(.dark, .dark *));

/* include plugins */
@plugin "tailwindcss-animate";
@plugin "@tailwindcss/typography";

/* define design tokens (light mode) - DeFi Theme */
:root {
  --background: hsl(0 0% 100%);
  --foreground: hsl(222.2 84% 4.9%);
  --card: hsl(0 0% 100%);
  --card-foreground: hsl(222.2 84% 4.9%);
  --popover: hsl(0 0% 100%);
  --popover-foreground: hsl(222.2 84% 4.9%);
  --primary: hsl(195 100% 50%);
  --primary-foreground: hsl(210 40% 98%);
  --secondary: hsl(210 40% 96.1%);
  --secondary-foreground: hsl(222.2 47.4% 11.2%);
  --muted: hsl(210 40% 96.1%);
  --muted-foreground: hsl(215.4 16.3% 46.9%);
  --accent: hsl(210 40% 96.1%);
  --accent-foreground: hsl(222.2 47.4% 11.2%);
  --destructive: hsl(0 84.2% 60.2%);
  --destructive-foreground: hsl(210 40% 98%);
  --border: hsl(214.3 31.8% 91.4%);
  --input: hsl(214.3 31.8% 91.4%);
  --ring: hsl(222.2 84% 4.9%);
  --chart-1: hsl(12 76% 61%);
  --chart-2: hsl(173 58% 39%);
  --chart-3: hsl(197 37% 24%);
  --chart-4: hsl(43 74% 66%);
  --chart-5: hsl(27 87% 67%);
  --sidebar-background: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240 5.9% 10%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
  /* border radius unit */
  --radius: 0.5rem;
  --sidebar: hsl(0 0% 98%);
}

/* DeFi Agent specific styles */
.defi-agent-content {
  margin-left: 1rem; /* 16px spacing from left */
}

/* define design tokens (dark mode) - DeFi Theme */
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: #b5eaff;
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

/* define theme */
@theme {
  --font-sans: var(--font-inter);
  --font-mono: var(--font-inter);

  --breakpoint-toast-mobile: 600px;

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --color-sidebar: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  /* styles.css */
  .CollapsibleContent {
    overflow: hidden;
  }
  .CollapsibleContent[data-state="open"] {
    animation: slideDown 300ms ease-out;
  }
  .CollapsibleContent[data-state="closed"] {
    animation: slideUp 300ms ease-out;
  }

  @keyframes slideDown {
    from {
      height: 0;
    }
    to {
      height: var(--radix-collapsible-content-height);
    }
  }

  @keyframes slideUp {
    from {
      height: var(--radix-collapsible-content-height);
    }
    to {
      height: 0;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  /* Prevent focus zoom on mobile devices */
  @media screen and (max-width: 767px) {
    input,
    select,
    textarea {
      font-size: 16px !important;
    }
  }
}

@utility text-balance {
  text-wrap: balance;
}

@utility -webkit-overflow-scrolling-touch {
  -webkit-overflow-scrolling: touch;
}

@utility touch-pan-y {
  touch-action: pan-y;
}

@utility overscroll-behavior-contain {
  overscroll-behavior: contain;
}

@layer utilities {
  :root {
    --foreground-rgb: 0, 0, 0;
    --background-start-rgb: 214, 219, 220;
    --background-end-rgb: 255, 255, 255;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --foreground-rgb: 255, 255, 255;
      --background-start-rgb: 0, 0, 0;
      --background-end-rgb: 0, 0, 0;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
    position: relative;
  }

  html {
    overflow-x: hidden;
  }
}

.skeleton {
  * {
    pointer-events: none !important;
  }

  *[class^="text-"] {
    color: transparent;
    @apply rounded-md bg-foreground/20 select-none animate-pulse;
  }

  .skeleton-bg {
    @apply bg-foreground/10;
  }

  .skeleton-div {
    @apply bg-foreground/20 animate-pulse;
  }
}

.ProseMirror {
  outline: none;
}

.cm-editor,
.cm-gutters {
  @apply bg-background! dark:bg-zinc-800! outline-hidden! selection:bg-zinc-900!;
}

.ͼo.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground,
.ͼo.cm-selectionBackground,
.ͼo.cm-content::selection {
  @apply bg-zinc-200! dark:bg-zinc-900!;
}

.cm-activeLine,
.cm-activeLineGutter {
  @apply bg-transparent!;
}

.cm-activeLine {
  @apply rounded-r-sm!;
}

.cm-lineNumbers {
  @apply min-w-7;
}

.cm-foldGutter {
  @apply min-w-3;
}

.cm-lineNumbers .cm-activeLineGutter {
  @apply rounded-l-sm!;
}

.suggestion-highlight {
  @apply bg-blue-200 hover:bg-blue-300 dark:hover:bg-blue-400/50 dark:text-blue-50 dark:bg-blue-500/40;
}

/* minimal scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
  transition: background 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: --alpha(var(--muted-foreground) / 0.5);
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}

@theme inline {
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  .faded-bottom {
    @apply after:pointer-events-none after:absolute after:bottom-0 after:left-0 after:hidden after:h-32 after:w-full after:bg-[linear-gradient(180deg,_transparent_10%,_hsl(var(--background))_70%)] after:md:block;
  }

  /* Active sidebar item styling */
  .sidebar-item-active {
    background: linear-gradient(to bottom, #b5eaff, #00bfff) !important;
    color: #000000 !important;
    transition: all 0.3s ease;
  }

  .sidebar-item-active:hover {
    background: linear-gradient(to bottom, #c5f0ff, #1ccfff) !important;
    transform: scale(1.05);
  }

  /* Sub items active styling */
  .sidebar-item-active span {
    color: hsl(var(--primary-foreground)) !important;
  }

  /* Ensure sub button and dropdown items follow active styling */
  .sidebar-item-active[data-state="active"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
  }

  /* Force active styling for sub items */
  [data-state="active"] .sidebar-item-active,
  .sidebar-item-active[data-state="active"] {
    background: linear-gradient(to bottom, #b5eaff, #00bfff) !important;
    color: #000000 !important;
  }

  /* Override any component styling for active sub items */
  .sidebar-item-active * {
    color: #000000 !important;
  }

  /* Specific styling for dropdown menu items */
  .sidebar-item-active[role="menuitem"] {
    background: linear-gradient(to bottom, #b5eaff, #00bfff) !important;
    color: #000000 !important;
  }

  /* Responsive font size utilities */
  /* Mobile-first approach - these are the default sizes */
  .text-xs {
    font-size: 10px;
    line-height: 12px;
  }
  .text-sm {
    font-size: 11px;
    line-height: 13px;
  }
  .text-base {
    font-size: 13px;
    line-height: 15px;
  }
  .text-lg {
    font-size: 14px;
    line-height: 16px;
  }
  .text-xl {
    font-size: 16px;
    line-height: 18px;
  }
  .text-2xl {
    font-size: 18px;
    line-height: 20px;
  }
  .text-3xl {
    font-size: 20px;
    line-height: 22px;
  }
  .text-4xl {
    font-size: 24px;
    line-height: 26px;
  }
  .text-5xl {
    font-size: 28px;
    line-height: 30px;
  }
  .text-6xl {
    font-size: 32px;
    line-height: 34px;
  }

  /* Desktop sizes (md and up) */
  @media (min-width: 768px) {
    .text-xs {
      font-size: 12px;
      line-height: 14px;
    }
    .text-sm {
      font-size: 13px;
      line-height: 16px;
    }
    .text-base {
      font-size: 14px;
      line-height: 18px;
    }
    .text-lg {
      font-size: 16px;
      line-height: 20px;
    }
    .text-xl {
      font-size: 18px;
      line-height: 22px;
    }
    .text-2xl {
      font-size: 20px;
      line-height: 24px;
    }
    .text-3xl {
      font-size: 24px;
      line-height: 28px;
    }
    .text-4xl {
      font-size: 36px;
      line-height: 38px;
    }
    .text-5xl {
      font-size: 48px;
      line-height: 50px;
    }
    .text-6xl {
      font-size: 56px;
      line-height: 58px;
    }
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  /* Card hover effects */
  .card-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-hover:hover {
    transform: translateY(-4px);
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  /* Gradient text utilities */
  .gradient-text-blue {
    background: linear-gradient(135deg, #3b82f6, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-green {
    background: linear-gradient(135deg, #10b981, #059669);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .gradient-text-purple {
    background: linear-gradient(135deg, #8b5cf6, #a855f7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Animation utilities */
  .animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-bounce-slow {
    animation: bounce 2s infinite;
  }

  /* Custom scrollbar for trending section */
  .trending-scroll::-webkit-scrollbar {
    height: 4px;
  }

  .trending-scroll::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 2px;
  }

  .trending-scroll::-webkit-scrollbar-thumb {
    background: hsl(var(--primary));
    border-radius: 2px;
  }

  .trending-scroll::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.8);
  }

  /* Stepper vertical line centering */
  .stepper-vertical-line {
    position: absolute;
    left: 20px; /* Half of button width (40px) */
    top: 40px; /* Height of button */
    bottom: 0;
    width: 2px;
    background: hsl(var(--muted));
  }

  .stepper-vertical-line[data-state="completed"] {
    background: hsl(var(--primary));
  }

  .stepper-vertical-line[data-state="active"] {
    background: hsl(var(--primary));
  }

  /* Fix tracking scroll behavior */
  [data-component="stepper-step-panel"] {
    scroll-margin-top: 0;
    scroll-padding-top: 0;
  }

  /* Ensure proper scroll to step start - scroll to show the title */
  [data-component="stepper-step"] {
    scroll-margin-top: 7rem; /* Offset to show title above header */
  }

  /* Make sure step title is visible when scrolling */
  [data-component="stepper-step-title"] {
    scroll-margin-top: 7rem; /* Offset to show title above header */
  }

  /* Ensure proper scroll behavior for stepper */
  .stepper-container {
    scroll-behavior: smooth;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    @apply overflow-x-hidden;
  }
  body {
    @apply min-h-svh w-full bg-background text-foreground;
  }

  /* Custom Scrollbar Styles */
  *::-webkit-scrollbar,
  *::-webkit-scrollbar-thumb {
    width: 6px;
    border-radius: 3px;
    background-clip: padding-box;
    position: absolute;
    right: 0;
  }

  /* Horizontal scrollbar styles */
  *::-webkit-scrollbar:horizontal,
  *::-webkit-scrollbar-thumb:horizontal {
    height: 6px;
    border-radius: 3px;
    background-clip: padding-box;
    position: absolute;
    bottom: 0;
  }

  *::-webkit-scrollbar {
    background-color: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: #ffffff33;
    transition: background-color 0.3s ease;
  }

  *::-webkit-scrollbar-thumb:hover {
    cursor: pointer;
    background-color: transparent;
    background-image: linear-gradient(to bottom, #52e5ff, #36b1ff, #e4f5ff);
  }

  /* Ensure horizontal scrollbar thumb has the same style */
  *::-webkit-scrollbar-thumb:horizontal {
    background-color: #ffffff33;
    transition: background-color 0.3s ease;
  }

  *::-webkit-scrollbar-thumb:horizontal:hover {
    cursor: pointer;
    background-color: transparent;
    background-image: linear-gradient(to right, #52e5ff, #36b1ff, #e4f5ff);
  }
}

/* DeFi Agent Custom Sidebar */
.defi-agent-sidebar {
  box-shadow:
    -4px 0 15px -3px rgba(0, 0, 0, 0.1),
    -2px 0 6px -2px rgba(0, 0, 0, 0.05);
}

/* Smooth scrollbar for sidebar */
.defi-agent-sidebar::-webkit-scrollbar {
  width: 4px;
}

.defi-agent-sidebar::-webkit-scrollbar-track {
  background: transparent;
}

.defi-agent-sidebar::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.2);
  border-radius: 2px;
}

.defi-agent-sidebar::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.3);
}

/* Ensure smooth transitions for layout changes */
.defi-agent-layout {
  transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
